{"version":3,"file":null,"sources":["../src/game.js","../src/index.js"],"sourcesContent":["const game = {\n    clickFactor: 1,\n    score: 0,\n    products: [\n        'autoClicker',\n        'grandma',\n        'factory'\n    ],\n    inventory: {\n        autoClicker: 0,\n        grandma: 0,\n        factory: 0\n    },\n    prices: {\n        autoClicker: 10,\n        grandma: 50,\n        factory: 1000\n    },\n\n    init() {\n        document.addEventListener('click', e => {\n            const element = e.srcElement;\n            const whatToBuy = element.dataset.buy;\n\n            if (whatToBuy) {\n                return game.buy(whatToBuy);\n            }\n\n            if (element.id === 'btn-cookie') {\n                game.click();\n            }\n\n            game.update();\n        });\n\n    },\n\n    buy(product) {\n        const price = this.prices[product];\n\n        if (this.canBuy(product)) {\n            this.score -= price;\n            this.prices[product] = (this.prices[product] * 1.15) | 0;\n            this.inventory[product] += 1;\n        }\n    },\n\n    canBuy(product) {\n        return product && this.prices[product] && this.score >= this.prices[product];\n    },\n\n    click() {\n        this.score += this.clickFactor;\n    },\n\n    update() {\n        this.showStats();\n        this.renderShop();\n    },\n\n    showStats() {\n        document.querySelector('#stats').innerHTML = `\n            <p>Score: ${this.score}</p>\n            <p>Autoclickers: ${this.inventory.autoClicker}</p>\n            <p>Grandmas @ work: ${this.inventory.grandma}</p>\n            <p>Factories: ${this.inventory.factory}</p>\n        `;\n    },\n\n    renderShop() {\n        const autoClickerDisabled = this.score < this.prices.autoClicker ? 'disabled' : '';\n        let html = '';\n\n        document.querySelector('#shop').innerHTML = game.products.map(product => {\n            const disabled = game.canBuy(product) ? '' : 'disabled';\n            return `<button id=\"buy-autoclicker\" data-buy=\"autoClicker\" ${disabled}>Buy AutoClicker <span class=\"price\">${this.prices[product]}</span></button>`;\n        }).join('\\n');\n    }\n};\n\nexport default game;\n","// ES2015\n// - const, let\n// - arrow functions + this binding\n// - default parameters\n// - template literals\n// - modules\n// - destructuring\n// - Promise\n// - class\n\n// ES2016\n// - Array.includes\n// - exponential operator\n\nimport game from './game';\n\ngame.update();\n\nsetInterval(() => {\n    game.update();\n}, 1000);\n"],"names":["const","game","clickFactor","score","products","inventory","autoClicker","grandma","factory","prices","init","document","addEventListener","e","element","srcElement","whatToBuy","dataset","buy","id","click","update","product","price","this","canBuy","showStats","renderShop","querySelector","innerHTML","map","disabled","join","setInterval"],"mappings":"wBAAAA,IAAMC,IACFC,YAAa,EACbC,MAAO,EACPC,UACI,cACA,UACA,WAEJC,WACIC,YAAa,EACbC,QAAS,EACTC,QAAS,GAEbC,QACIH,YAAa,GACbC,QAAS,GACTC,QAAS,KAGbE,gBACIC,SAASC,iBAAiB,QAAS,SAAAC,GAC/Bb,GAAMc,GAAUD,EAAEE,WACZC,EAAYF,EAAQG,QAAQC,GAElC,OAAIF,GACOf,EAAKiB,IAAIF,IAGD,eAAfF,EAAQK,IACRlB,EAAKmB,YAGTnB,GAAKoB,aAKbH,aAAII,GACAtB,GAAMuB,GAAQC,KAAKf,OAAOa,EAEtBE,MAAKC,OAAOH,KACZE,KAAKrB,OAASoB,EACdC,KAAKf,OAAOa,GAAmC,KAAvBE,KAAKf,OAAOa,GAAmB,EACvDE,KAAKnB,UAAUiB,IAAY,IAInCG,gBAAOH,GACH,MAAOA,IAAWE,KAAKf,OAAOa,IAAYE,KAAKrB,OAASqB,KAAKf,OAAOa,IAGxEF,iBACII,KAAKrB,OAASqB,KAAKtB,aAGvBmB,kBACIG,KAAKE,YACLF,KAAKG,cAGTD,qBACIf,SAASiB,cAAc,UAAUC,UAAY,2BAC7BL,KAAU,4CACHA,KAAKnB,UAAqB,qDACvBmB,KAAKnB,UAAiB,2CAC5BmB,KAAKnB,UAAiB,0BAI9CsB,gCACgCH,MAAKrB,MAAQqB,KAAKf,OAAOH,YAAc,WAAa,EAGhFK,UAASiB,cAAc,SAASC,UAAY5B,EAAKG,SAAS0B,IAAI,SAAAR,GAC1DtB,GAAM+B,GAAW9B,EAAKwB,OAAOH,GAAW,GAAK,UAC7C,OAAO,uDAAuDS,0CAAgDP,EAAKf,OAAOa,wBAC3HU,KAAK,OC9DhB/B,GAEKoB,SAELY,YAAY,WACRhC,EAAKoB,UACN"}